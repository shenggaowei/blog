---
title:  Vim 常用操作学习
date: 2022-07-21
description:  Vim 常用操作学习
---


## 移动

- 上(k)下(j)左(h)右(l) 移动。
- 使用计数器指定动作

  - 2w 向前移动两个单词
  - 2e 向前移动到第二个单词的末尾

- 0 移动到行首
- $ 移动到行尾
- e 移动到单词末尾

## 文本编辑

- normal 模式下，可以按下 x 键来删除光标所在位置的字符。
- i 键可以插入字符
- a 键可以在当前字符后面添加字符。 A 键在文本最后面添加字符。
- :wq 保存当前编辑的文件。:q! 放弃所有的改动。
- ce 改变文本直到一个单词的末尾。
- cw 改变文本直到下一个单词的开头，不包括开头。
- c$ 删除从当前光标至行尾的字符。
- 使用计数器更改更多

  - c3w 从当前字符开始的三个单词，至第四个单词的开头。不包括开头。
  - c3e 从当前字符开始的三个单词末尾。

- R 进入替换模式, 可以替换多个字符。r 替换当前光标所在的字符。
- o 在当前行的下方打开新的一行并进行插入模式。O 在当前行的上方打开新的一行

## 文本删除

- d$ 从光标位置删除到行末尾。
- de 从光标位置到单词末尾，包括最后一个字符。（删除完整的一个纯单词）
- dw 从光标位置到下一个单词的起始处，不包括下一个单词的第一个字符。（react compoennt）光标从 r 开始，会删除 react 加空格。
- 使用计数以删除更多
  - d2w 删除两个单词
- 删除整行
  - dd 删除当前行
  - 2dd 删除两行

## 置入类命令(粘贴)

- p 将最后一次删除的内容置入光标在之后。文本删除之后, vim 会将删除后的字符存到一个寄存器中, 在正常模式下即可进行粘贴。
- y 在可视模式下选中文本，p 粘贴复制的文本。
  - y 可以当作操作符来使用； yw 可以复制一个单词

## 文件内跳转

- G 跳到文件最后一行，gg 跳到文件第一行
- 输入行号 + G, 行跳转

## 搜索类命令

- 输入 / 加上一个字符串可以在当前文件中查找该字符串。n 查找下一个，N 查找上一个。
- ？ 逆向查找字符串。ctrl-o 回到之前的位置，重复按可以回退更多步。ctrl-i 会跳转到较新的位置。
- 输入 % 可以查找匹配的括号 )、]、}。在程序调试时，这个功能用来查找匹配不配对的括号是很有用的

* /keyweord 可以查找关键字。一些有用的选项如下
  - ic ignorecase 查找时忽略大小写
  - is incsearch 查找短语时显示部分匹配
  - hls hlsearch 高亮显示所有的匹配短语

- 选项前加上 no 可以关闭选项： :set noic

## 替换类

- : s/old/new 当前行替换一个单词
- : s/old/new/g 当前行替换所有单词
- :#, #s/old/new/g 替换两行之间的所有单词
- :%s/old/new/g 匹配文件内的所有字符
- :%s/old/new/gc 替换前询问确认

## 撤销类命令

- u 撤销最后一次执行的（一次）命令
- U 恢复到改行的原始状态。

## 在 vim 内执行外部命令

- :!command 用于执行一个外部命令 command
- :w filename 可以将当前正在编辑的文件保存到名为 filename 的文件中
- v motion :w filename 可将当前可视模式下选中的内容保存到文件 filename 中
- :r filename 可将 filename 文件的内容提取出来并插入到当前文件的光标位置的后面
- :r !ls 可以读取 ls 命令的输入并将其放置到当前文件的光标后面
